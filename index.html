<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞ ‚Äî ‡¶Æ‡¶ú‡¶æ‡¶∞ ‡¶ï‡ßÅ‡¶á‡¶ú</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3EüéØ%3C/text%3E%3C/svg%3E">
  <style>
    /* Simple, self-contained styling (no external CSS required) */
    :root{--bg:#0f172a;--card:#0b1220;--accent:#f59e0b;--muted:#94a3b8;--glass: rgba(255,255,255,0.04)}
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071023 0%, #081029 60%);color:#e6eef8}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{width:100%;max-width:920px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);border-radius:16px;padding:24px;box-shadow:0 6px 30px rgba(2,6,23,0.7)}
    header{display:flex;align-items:center;gap:16px}
    .logo{width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#ff7a7a);display:flex;align-items:center;justify-content:center;font-size:34px;box-shadow:0 6px 18px rgba(245,158,11,0.15)}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 0;color:var(--muted)}

    .content{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:18px}
    @media (max-width:980px){.content{grid-template-columns:1fr}}

    .quiz{background:var(--card);padding:18px;border-radius:12px}
    .question{margin-bottom:12px;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.02)}
    .qtitle{font-weight:600;margin-bottom:8px}
    .options{display:flex;flex-direction:column;gap:8px}
    .opt{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;background:var(--glass);display:flex;justify-content:space-between;align-items:center}
    .opt:hover{transform:translateY(-2px)}
    .opt.selected{border:1px solid rgba(245,158,11,0.9);box-shadow:0 8px 20px rgba(245,158,11,0.06)}

    .side{position:relative;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01));padding:18px;border-radius:12px;height:100%}
    .progress{height:12px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden;margin-bottom:12px}
    .progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#ff7a7a)}
    .scoreBig{text-align:center;margin-top:10px}
    .scoreBig .num{font-size:48px;font-weight:800}
    .resultTag{display:inline-block;margin-top:8px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);font-weight:700}

    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#ff7a7a);color:#071023;font-weight:700;border:none;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    footer{margin-top:12px;color:var(--muted);font-size:13px}

    .funny{margin-top:12px;padding:12px;border-radius:10px;background:rgba(255,255,255,0.01);font-size:14px}

    /* confetti canvas */
    #confetti{position:fixed;top:0;left:0;pointer-events:none;width:100%;height:100%;z-index:60}
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="logo">‡¶∂</div>
        <div>
          <h1>‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞</h1>
          <p class="lead">‡¶´‡¶æ‡¶®‡¶ø, ‡¶Æ‡¶ú‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‚Äî ‡¶è‡¶ï ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá ‡¶¨‡ßÅ‡¶ù‡ßá ‡¶®‡¶æ‡¶ì ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶§‡¶ü‡¶æ ‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ üéØ</p>
        </div>
      </header>

      <div class="content">
        <main class="quiz" id="quiz">
          <!-- Questions injected by JS -->
        </main>

        <aside class="side">
          <div class="progress" aria-hidden><i id="progressBar"></i></div>
          <div class="scoreBig">
            <div>‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞</div>
            <div class="num" id="scoreNum">0</div>
            <div class="resultTag" id="resultTag">‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤</div>
          </div>

          <div style="margin-top:14px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn" id="calcBtn">‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì</button>
            <button class="btn ghost" id="resetBtn">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
            <button class="btn ghost" id="shareBtn">‡¶ï‡¶™‡¶ø ‡¶´‡¶≤‡¶æ‡¶´‡¶≤</button>
          </div>

          <div class="funny" id="funnyTip">‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§? ‡¶¶‡¶Æ ‡¶®‡¶ø‡¶® ‚Äî ‡¶Æ‡¶ú‡¶æ ‡¶π‡¶¨‡ßá :)</div>
        </aside>
      </div>

      <footer>Sahbagi.com</footer>
    </div>
  </div>

  <script>
    // ===== Data: questions + scoring =====
    const questions = [
      { q: '‡¶∏‡¶ï‡¶æ‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡¶®?', opts: [ ['‡¶ö‡¶æ/‡¶ï‡¶´‡¶ø ‡¶¨‡¶æ‡¶®‡¶æ‡¶á (5)'], ['‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡ßü‡¶æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤ (2)'], ['‡¶¨‡ßç‡¶Ø‡¶æ‡ßü‡¶æ‡¶Æ/‡¶Ø‡ßã‡¶ó (8)'], ['‡¶Ü‡¶∞‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßá ‡ßß‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶ò‡ßÅ‡¶Æ (1)'] ] },
      { q: '‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞ ‡¶¨‡¶ø‡¶Ø‡¶º‡ßá‡¶∞ ‡¶¶‡¶æ‡¶ì‡ßü‡¶æ‡¶§‡ßá ‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶®‡¶æ‡¶ö‡¶¨‡ßá‡¶®?', opts: [ ['‡¶ï‡ßá‡¶â ‡¶®‡¶æ, ‡¶ö‡¶ø‡¶™‡ßá ‡¶•‡¶æ‡¶ï‡¶¨ (1)'], ['‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá ‡¶ü‡ßá‡¶®‡ßá ‡¶®‡ßá‡¶¨ (6)'], ['‡¶∏‡ßç‡¶ü‡ßá‡¶ú‡ßá‡¶á ‡¶∞‡¶æ‡¶á‡¶° (9)'], ['‡¶ú‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ï‡ßå‡¶ü‡¶æ (4)'] ] },
      { q: '‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü ‡¶´‡ßÅ‡¶°‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶?', opts: [ ['‡¶ö‡¶™-‡¶∂‡¶ø‡¶Ç (8)'], ['‡¶´‡ßÅ‡¶ö‡¶ï‡¶æ/‡¶™‡¶æ‡¶®‡¶ø‡¶™‡ßÅ‡¶∞‡¶ø (9)'], ['‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶° (2)'], ['‡¶ï‡ßá‡¶¨‡¶≤ ‡¶™‡¶æ‡¶®‡¶ø (1)'] ] },
      { q: '‡¶ö‡¶≤‡ßã ‡¶∂‡¶π‡¶∞‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º ‡¶ó‡ßá‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø?', opts: [ ['‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® (6)'], ['‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ ‡¶™‡¶•‡ßá ‡¶π‡¶æ‡¶∞‡¶æ‡¶á‡¶§‡ßá ‡¶ö‡¶æ‡¶á (9)'], ['‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü ‡¶è‡¶ü‡¶æ‡¶á‚Äî‡¶´‡¶ü‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶´‡¶ø (7)'], ['‡¶ï‡ßç‡¶Ø‡¶æ‡¶´‡ßá‡¶§‡ßá ‡¶¨‡¶∏‡ßá ‡¶ï‡¶æ‡¶Å‡¶ß‡ßá ‡¶Æ‡¶æ‡¶•‡¶æ (3)'] ] },
      { q: '‡¶®‡¶ø‡¶ú‡ßá‡¶ï‡ßá ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º ‡¶ï‡¶∞‡¶æ‡¶¨‡ßá‡¶®?', opts: [ ['‡¶π‡¶ø‡¶ü-‡¶è‡¶®‡ßç‡¶°-‡¶ö‡¶ø‡¶≤ (4)'], ['‡¶∏‡¶æ‡¶∞‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶ú ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ (8)'], ['‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™-‡¶ó‡¶æ‡¶á‡¶° (6)'], ['‡¶≠‡¶æ‡¶≤ ‡¶≤‡ßã‡¶ï (5)'] ] },
      { q: '‡¶∞‡¶æ‡¶§ ‡ß®‡¶ü‡ßá, ‡¶π‡¶†‡¶æ‡ßé ‡¶ü‡¶ø‡¶Æ-‡¶ï‡¶≤‚Äî‡¶Ü‡¶™‡¶®‡¶ø?', opts: [ ['‡¶ú‡¶æ‡¶ó‡¶¨ ‡¶®‡¶æ, ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ï‡¶∞‡¶¨ (1)'], ['‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶ï‡¶™‡¶æ‡¶≤‡ßá ‡¶ï‡¶´‡¶ø ‡¶®‡ßá‡¶¨ (5)'], ['‡¶≠‡¶Ø‡¶º‡ßá‡¶∏ ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶¨, ‡¶°‡ßá‡¶ü-‡¶Ö‡¶¨‡¶∏‡¶æ‡¶∞‡ßç‡¶≠ (7)'], ['‡¶≤‡¶æ‡¶á‡¶≠ ‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶ï ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶¨ (9)'] ] },
      { q: '‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶ï‡¶æ‡¶π‡¶ø‡¶®‡ßÄ ‡¶≤‡¶ø‡¶ñ‡¶§‡ßá‡¶®, ‡¶∏‡ßá‡¶ü‡¶æ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶π‡¶§‡ßã?', opts: [ ['‡¶∞‡ßã‡¶Æ‡¶æ‡¶®‡ßç‡¶∏ (4)'], ['‡¶ï‡¶Æ‡ßá‡¶°‡¶ø (9)'], ['‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶≠‡ßá‡¶û‡ßç‡¶ö‡¶æ‡¶∞ (8)'], ['‡¶¶‡¶æ‡¶∞‡ßç‡¶∂‡¶®‡¶ø‡¶ï (3)'] ] }
    ];

    // parse option text to get label and points
    function parseOpt(optText){
      const m = optText.match(/^(.*)\s*\((\d+)\)\s*$/);
      if(m) return {label: m[1].trim(), pts: parseInt(m[2],10)};
      return {label: optText, pts:0};
    }

    // ===== Render questions =====
    const quizEl = document.getElementById('quiz');
    questions.forEach((item, idx)=>{
      const qwrap = document.createElement('div'); qwrap.className='question';
      const title = document.createElement('div'); title.className='qtitle'; title.textContent = (idx+1)+'. '+item.q;
      qwrap.appendChild(title);

      const opts = document.createElement('div'); opts.className='options';
      item.opts.forEach((ot, oi)=>{
        const p = parseOpt(ot);
        const b = document.createElement('button'); b.className='opt'; b.type='button';
        b.dataset.pts = p.pts;
        b.innerHTML = `<span>${p.label}</span><strong>${p.pts}</strong>`;
        b.addEventListener('click', ()=>{
          // single select per question
          opts.querySelectorAll('.opt').forEach(x=>x.classList.remove('selected'));
          b.classList.add('selected');
          updateProgress();
        });
        opts.appendChild(b);
      });

      qwrap.appendChild(opts);
      quizEl.appendChild(qwrap);
    });

    // ===== Logic =====
    const progressBar = document.getElementById('progressBar');
    const scoreNum = document.getElementById('scoreNum');
    const resultTag = document.getElementById('resultTag');
    const funnyTip = document.getElementById('funnyTip');
    const calcBtn = document.getElementById('calcBtn');
    const resetBtn = document.getElementById('resetBtn');
    const shareBtn = document.getElementById('shareBtn');

    function updateProgress(){
      const totalQuestions = questions.length;
      let answered = 0;
      document.querySelectorAll('.question').forEach(q=>{ if(q.querySelector('.opt.selected')) answered++; });
      const pct = Math.round((answered/totalQuestions)*100);
      progressBar.style.width = pct+'%';
      funnyTip.textContent = answered===totalQuestions ? '‡¶∏‡¶¨ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶∂‡ßá‡¶∑! ‡¶è‡¶ñ‡¶® ‡¶¶‡ßá‡¶ñ‡ßã ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞‡•§' : `‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶® ${answered} / ${totalQuestions}.`; 
    }

    function computeScore(){
      let sum=0; let max=0;
      document.querySelectorAll('.question').forEach(q=>{
        const sel = q.querySelector('.opt.selected');
        const opts = q.querySelectorAll('.opt');
        opts.forEach(o=> max += Number(o.dataset.pts)); // this sums all options (we'll normalize differently below)
      });
      // Better approach: maximum achievable = choose max per question
      let maxPerQ = 0;
      questions.forEach((q, i)=>{
        let m = 0; q.opts.forEach(ot=>{ const p=parseOpt(ot).pts; if(p>m) m=p; }); maxPerQ += m;
      });

      document.querySelectorAll('.question').forEach(q=>{
        const sel = q.querySelector('.opt.selected');
        if(sel) sum += Number(sel.dataset.pts);
      });

      return {sum, maxPerQ};
    }

    function interpret(sum, max){
      const pct = Math.round((sum / max) * 100);
      let title = '‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶æ‡¶Ø‡¶º‡¶ï';
      let msg = '';
      if(pct >= 85){ title='‡¶≠‡¶æ‡¶á, ‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶æ!'; msg='‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡¶ú‡¶æ, ‡¶∏‡¶æ‡¶π‡¶∏ ‡¶Ü‡¶∞ ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£ ‡¶∏‡¶¨ ‡¶Ü‡¶õ‡ßá ‚Äî ‡¶∏‡¶¨‡¶æ‡¶á ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶™‡¶ø‡¶õ‡¶®‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá üòé'; }
      else if(pct >= 65){ title='‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ'; msg='‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶Æ‡¶ø‡¶∂‡ßÅ‡¶ï, ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ù‡¶ü‡¶™‡¶ü ‡¶Æ‡¶ú‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡•§ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßá!'; }
      else if(pct >= 40){ title='‡¶Æ‡¶æ‡¶ù‡¶æ‡¶Æ‡¶æ‡¶ù‡¶ø ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø ‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ'; msg='‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶ø‡¶∂‡ßã, ‡¶Æ‡¶æ‡¶ù‡ßá‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‚Äî ‡¶≠‡¶æ‡¶∞‡¶∏‡¶æ‡¶Æ‡ßç‡¶Ø ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá‡•§'; }
      else { title='‡¶∏‡ßÅ‡¶∂‡ßÄ‡¶≤/‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶ß‡¶æ‡¶Å‡¶ö‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑'; msg='‡¶ï‡ßá‡¶â ‡¶¨‡¶≤‡¶¨‡ßá ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø‡¶â‡¶ü, ‡¶ï‡ßá‡¶â ‡¶¨‡¶≤‡¶¨‡ßá ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‚Äî ‡¶§‡¶¨‡ßá ‡¶Æ‡¶ú‡¶æ ‡¶ï‡¶∞‡¶æ‡¶ì ‡¶≠‡¶æ‡¶≤‡ßã!'; }
      return {pct, title, msg};
    }

    calcBtn.addEventListener('click', ()=>{
      const {sum, maxPerQ} = computeScore();
      if(sum===0){ alert('‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§'); return; }
      const res = interpret(sum, maxPerQ);
      scoreNum.textContent = sum + ' / ' + maxPerQ;
      resultTag.textContent = res.title;
      funnyTip.textContent = res.msg;
      launchConfetti();
    });

    resetBtn.addEventListener('click', ()=>{
      document.querySelectorAll('.opt.selected').forEach(o=>o.classList.remove('selected'));
      progressBar.style.width = '0%'; scoreNum.textContent = '0'; resultTag.textContent='‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤'; funnyTip.textContent='‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§? ‡¶¶‡¶Æ ‡¶®‡¶ø‡¶® ‚Äî ‡¶Æ‡¶ú‡¶æ ‡¶π‡¶¨‡ßá :)';
    });

    shareBtn.addEventListener('click', ()=>{
      const txt = `‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∂‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶ó‡ßÄ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${scoreNum.textContent} ‚Äî ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶§ ‡¶™‡ßá‡¶≤‡ßã? Try: ${location.href}`;
      navigator.clipboard?.writeText(txt).then(()=>{
        alert('‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚Äî ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶ö‡¶æ‡¶á ‡¶∏‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã!');
      }).catch(()=>{
        prompt('‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡¶ì:', txt);
      });
    });

    // initial render and progress
    updateProgress();

    // ===== Confetti (lightweight) =====
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let W, H, confs=[];
    function resize(){ W = confettiCanvas.width = innerWidth; H = confettiCanvas.height = innerHeight; }
    addEventListener('resize', resize); resize();

    function launchConfetti(){
      confs = [];
      const count = 60;
      for(let i=0;i<count;i++){
        confs.push({x:Math.random()*W, y:-20 + Math.random()*20, vx:(Math.random()-0.5)*4, vy:2+Math.random()*4, r:4+Math.random()*8, color:`hsl(${Math.random()*360},70%,60%)`, rot:Math.random()*360, vr:(Math.random()-0.5)*10});
      }
      // run animation for a short time
      let t = 0;
      const anim = ()=>{
        t++; ctx.clearRect(0,0,W,H);
        confs.forEach(c=>{
          c.x += c.vx; c.y += c.vy; c.vy += 0.05; c.rot += c.vr*0.02;
          ctx.save(); ctx.translate(c.x,c.y); ctx.rotate(c.rot*Math.PI/180);
          ctx.fillStyle = c.color; ctx.fillRect(-c.r/2,-c.r/2,c.r, c.r*0.6);
          ctx.restore();
        });
        confs = confs.filter(c=> c.y < H+50);
        if(confs.length>0 && t<300) requestAnimationFrame(anim);
        else ctx.clearRect(0,0,W,H);
      };
      anim();
    }

    // ===== Small Easter-egg: keyboard shortcut to auto-fill random answers =====
    addEventListener('keydown',(e)=>{
      if(e.key.toLowerCase()==='r'){ // press 'r' to randomize
        document.querySelectorAll('.question').forEach(q=>{
          const opts = Array.from(q.querySelectorAll('.opt'));
          opts.forEach(x=>x.classList.remove('selected'));
          const pick = opts[Math.floor(Math.random()*opts.length)]; if(pick) pick.classList.add('selected');
        });
        updateProgress();
      }
    });

    // Accessibility: focus first option
    const firstOpt = document.querySelector('.opt'); if(firstOpt) firstOpt.tabIndex=0;
  </script>
</body>
</html>
